/* This code checks the SSE meter files.

James Etherington                                              */

#include <stdio.h>
#include <math.h>
#include <stdlib.h>
#include <gsl/gsl_integration.h>
#include <gsl/gsl_histogram.h>
#include <vector>
#include <ctime>  
#include <cstring>

using namespace std;

const int nFiles = 59387; 

int main (int argc, char **argv) {
    
    printf("\n");
    printf("******************************\n");
    printf("Start...\n");
    printf("******************************");
    printf("\n");
    printf("\n");
    
    char * inPath; 
    char * outPath;  
           
    inPath = argv[1];
    outPath = argv[2];
    
    char INfile[1000];
    char OUTfile[1000];
    
    FILE * file_out;
	
	sprintf(OUTfile, outPath);  
	file_out = fopen(OUTfile, "w");
		  	
	for (int fileIdx=0; fileIdx<nFiles; fileIdx++) {

		FILE * file_in = NULL;
		
		sprintf(INfile, "%s_%i.dat", inPath, index);  
		file_in = fopen (INfile, "r");
		
		if (file_in == NULL) {
			printf("missing: %i \n", fileIdx);
			fprintf(file_out,"missing: %i \n", fileIdx);
		} else {	
			fclose (file_in);
		}
	}
    fclose(file_out);
  	
    return 0;
}
